<view><scroll-view scroll-y="{{true}}" data-event-opts="{{[['scrolltolower',[['lower',['$event']]]]]}}" bindscrolltolower="__e"><view hidden="{{!(expressStatus!=3)}}" class="tab_box"><view class="all"><text data-event-opts="{{[['tap',[['tab',[3]]]]]}}" bindtap="__e">全部订单</text><image src="{{imgUrl+'icon_right.png'}}" mode="widthFix"></image></view><view class="tab"><text data-event-opts="{{[['tap',[['tab',[4]]]]]}}" class="{{[expressStatus==4?'cur':'']}}" bindtap="__e">待付款</text><text data-event-opts="{{[['tap',[['tab',[0]]]]]}}" class="{{[expressStatus==0?'cur':'']}}" bindtap="__e">待发货</text><text data-event-opts="{{[['tap',[['tab',[1]]]]]}}" class="{{[expressStatus==1?'cur':'']}}" bindtap="__e">待收货</text><text data-event-opts="{{[['tap',[['tab',[2]]]]]}}" class="{{[expressStatus==2?'cur':'']}}" bindtap="__e">已完成</text><text data-event-opts="{{[['tap',[['tab',[5]]]]]}}" class="{{[expressStatus==5?'cur':'']}}" bindtap="__e">退款/售后</text></view></view><view class="orderList"><block wx:if="{{orderList.length>0}}"><block><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['toOrderDetails',['$0','$1'],[[['orderList','',index,'exchangeId']],[['orderList','',index,'tradeNo']]]]]]]}}" class="order" bindtap="__e"><view class="time_type"><text>{{item.f0}}</text><block wx:if="{{item.$orig.exchangeStatus==-1}}"><text>待支付</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==3}}"><text>订单已关闭</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==0}}"><text>{{item.$orig.expressStatus==1?'待收货':item.$orig.expressStatus==0?'待发货':item.$orig.expressStatus==2?'已完成':''}}</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==1}}"><text>交易失败</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==2}}"><text>交易处理中</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==4}}"><text>退款中</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==5}}"><text>退款成功</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==6}}"><text>退款失败</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==7}}"><text>退款审核中</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==10}}"><text>待提交物流信息</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==8}}"><text>退款处理中</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==9}}"><text>退款成功</text></block></block></block></block></block></block></block></block></block></block></block></block></view><block wx:if="{{item.$orig.exchangeStatus==-1}}"><view><block wx:for="{{item.l0}}" wx:for-item="lis" wx:for-index="idx" wx:key="idx"><view class="order_msg"><image src="{{lis.f1}}" mode="widthFix"></image><view class="msg"><view class="goods_name">{{lis.$orig.goodsShortName}}</view><view class="unit"><block wx:if="{{lis.$orig.goodsSpecification}}"><view>{{lis.$orig.goodsSpecification+lis.$orig.goodsUnitName}}</view></block></view><block><view class="money"><text class="moneyItem">待支付：</text><text class="free"><block wx:if="{{lis.$orig.exchangePay!=0}}"><text><text class="danwei">¥</text>{{lis.f2+''}}</text></block><block wx:if="{{lis.$orig.exchangePay!=0&&lis.$orig.exchangeVpoints!=0}}"><text>+</text></block><block wx:if="{{lis.$orig.exchangeVpoints!=0}}"><text>{{lis.f3}}<text class="danwei">积分</text></text></block></text></view><view class="num">{{"共"+lis.$orig.exchangeNum+"件商品"}}</view></block></view></view></block></view></block><block wx:else><view><view class="order_msg"><block wx:if="{{item.$orig.goodsUrl}}"><image src="{{item.f4}}" mode="widthFix"></image></block><view class="msg"><view class="goods_name">{{item.$orig.goodsShortName}}</view><view class="unit"><block wx:if="{{item.$orig.goodsSpecification}}"><view>{{item.$orig.goodsSpecification+item.$orig.goodsUnitName}}</view></block></view><block><view class="money"><block wx:if="{{item.$orig.exchangeStatus==3}}"><text class="moneyItem">待支付：</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==0}}"><text class="moneyItem">实际支付：</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==4||item.$orig.exchangeStatus==6||item.$orig.exchangeStatus==7||item.$orig.exchangeStatus==8||item.$orig.exchangeStatus==10}}"><text class="moneyItem">待退款：</text></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==5||item.$orig.exchangeStatus==9}}"><text class="moneyItem">已退款：</text></block></block></block></block><text class="free"><block wx:if="{{item.$orig.exchangePay!=0}}"><text><text class="danwei">¥</text>{{item.f5+''}}</text></block><block wx:if="{{item.$orig.exchangePay!=0&&item.$orig.exchangeVpoints!=0}}"><text>+</text></block><block wx:if="{{item.$orig.exchangeVpoints!=0}}"><text>{{item.f6}}<text class="danwei">积分</text></text></block></text></view><view class="num">{{"共"+item.$orig.exchangeNum+"件商品"}}</view></block></view></view></view></block><block wx:if="{{item.$orig.exchangeStatus==-1}}"><view class="order_btn"><text data-event-opts="{{[['tap',[['showCancel',['$0'],[[['orderList','',index,'tradeNo']]]]]]]}}" class="cancel_Btn" catchtap="__e">取消订单</text><text data-event-opts="{{[['tap',[['payAgain',[index,'$0'],[[['orderList','',index,'tradeNo']]]]]]]}}" class="pay_Btn" catchtap="__e">立即付款</text></view></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==0&&item.$orig.expressStatus==0}}"><view class="order_btn"><block wx:if="{{item.$orig.secKill=='1'}}"><text data-event-opts="{{[['tap',[['toGoods',['$0','$1'],[[['orderList','',index,'goodsId']],[['orderList','',index,'youPinFlag']]]]]]]}}" class="buy_Btn" catchtap="__e">再次购买</text></block></view></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==0&&item.$orig.expressStatus==1}}"><view class="order_btn"><text data-event-opts="{{[['tap',[['toGoods',['$0','$1'],[[['orderList','',index,'goodsId']],[['orderList','',index,'youPinFlag']]]]]]]}}" class="buy_Btn" catchtap="__e">再次购买</text><text data-event-opts="{{[['tap',[['showReceipt',['$0'],[[['orderList','',index,'exchangeId']]]]]]]}}" class="receive_Btn" catchtap="__e">确认收货</text></view></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==0&&item.$orig.expressStatus==2}}"><view class="order_btn"><block wx:if="{{item.$orig.goodsReturnFlag==0}}"><text data-event-opts="{{[['tap',[['toOrderDetails',['$0','$1'],[[['orderList','',index,'exchangeId']],[['orderList','',index,'tradeNo']]]]]]]}}" class="aftersale_Btn" catchtap="__e">申请售后</text></block><block wx:if="{{item.$orig.secKill=='1'}}"><text data-event-opts="{{[['tap',[['toGoods',['$0','$1'],[[['orderList','',index,'goodsId']],[['orderList','',index,'youPinFlag']]]]]]]}}" class="buy_Btn" catchtap="__e">再次购买</text></block></view></block><block wx:else><block wx:if="{{item.$orig.exchangeStatus==3}}"><view class="order_btn"><text data-event-opts="{{[['tap',[['showDelete',['$0'],[[['orderList','',index,'exchangeId']]]]]]]}}" class="delete_Btn" catchtap="__e">删除订单</text><block wx:if="{{item.$orig.secKill=='1'}}"><text data-event-opts="{{[['tap',[['toGoods',['$0','$1'],[[['orderList','',index,'goodsId']],[['orderList','',index,'youPinFlag']]]]]]]}}" class="buy_Btn" catchtap="__e">再次购买</text></block></view></block></block></block></block></block></view></block></block></block><block wx:else><view class="nomore">暂无订单信息</view></block></view><view class="tipBox" style="{{'display:'+(showTip?'flex':'none')+';'}}"><image hidden="{{!(!(warnCancel||warnCancelPay||warnDelete||warnReceive))}}" class="close" src="{{imgUrl+'icon_close.png'}}" mode="widthFix" data-event-opts="{{[['tap',[['closeTip',['$event']]]]]}}" bindtap="__e"></image><view class="tip_msg" style="{{'padding-bottom:'+(safeBottom==0?'40rpx':safeBottom)+';'}}"><view class="warn" style="{{'display:'+(warnReceive?'block':'none')+';'}}"><text>要确认收货此订单吗？</text></view><view style="{{'display:'+(aboutPay?'block':'none')+';'}}"><image src="{{tipIcon}}" mode="widthFix"></image><view class="msg"><text style="{{'color:'+(completePay?'#4dab6c':'#d73334')+';'}}">{{text1}}</text><text>{{text2}}</text></view></view><view class="warn" style="{{'display:'+(warnCancel?'block':'none')+';'}}"><text>要取消此订单吗？</text></view><view class="warn" style="{{'display:'+(warnDelete?'block':'none')+';'}}"><text>要删除此订单吗？</text><text>删除后订单无法找回</text></view><view class="warn" style="{{'display:'+(warnCancelPay?'block':'none')+';'}}"><text>确定放弃支付吗？</text><text>超过订单支付时效后，订单将会被取消，请尽快完成支付！</text></view><view class="btn_box_alert" style="{{'display:'+(warnReceive?'flex':'none')+';'}}"><button-bg vue-id="3c50aaa2-1" size="small" btn="确定" color="#4eac6d" bgColor="#dfebdf" data-event-opts="{{[['^confirm',[['receiveOrder']]]]}}" bind:confirm="__e" bind:__l="__l"></button-bg><button-bg vue-id="3c50aaa2-2" size="small" btn="取消" data-event-opts="{{[['^confirm',[['e0']]]]}}" bind:confirm="__e" bind:__l="__l"></button-bg></view><view class="btn_box_alert" style="{{'display:'+(warnCancel?'flex':'none')+';'}}"><button-bg vue-id="3c50aaa2-3" size="small" btn="确定" color="#4eac6d" bgColor="#dfebdf" data-event-opts="{{[['^confirm',[['cancelOrder']]]]}}" bind:confirm="__e" bind:__l="__l"></button-bg><button-bg vue-id="3c50aaa2-4" size="small" btn="取消" data-event-opts="{{[['^confirm',[['e1']]]]}}" bind:confirm="__e" bind:__l="__l"></button-bg></view><view class="btn_box_alert" style="{{'display:'+(warnDelete?'flex':'none')+';'}}"><button-bg vue-id="3c50aaa2-5" size="small" btn="确定" color="#4eac6d" bgColor="#dfebdf" data-event-opts="{{[['^confirm',[['deleteOrder']]]]}}" bind:confirm="__e" bind:__l="__l"></button-bg><button-bg vue-id="3c50aaa2-6" size="small" btn="取消" data-event-opts="{{[['^confirm',[['e2']]]]}}" bind:confirm="__e" bind:__l="__l"></button-bg></view><view class="btn_box_alert" style="{{'display:'+(warnCancelPay?'flex':'none')+';'}}"><button-bg vue-id="3c50aaa2-7" size="small" btn="放弃" color="#4eac6d" bgColor="#dfebdf" data-event-opts="{{[['^confirm',[['e3']]]]}}" bind:confirm="__e" bind:__l="__l"></button-bg><button-bg vue-id="3c50aaa2-8" size="small" btn="继续支付" bgColor="gradient" bind:__l="__l"></button-bg></view><view class="btn_box_alert" style="{{'display:'+(aboutPay?'flex':'none')+';'}}"><block wx:if="{{completePay}}"><button-bg vue-id="3c50aaa2-9" size="small" btn="查看订单" color="#4eac6d" bgColor="#dfebdf" data-event-opts="{{[['^confirm',[['toOrderDetails',['$0','$1'],['exchangeId','tradeNo']]]]]}}" bind:confirm="__e" bind:__l="__l"></button-bg></block><block wx:else><button-bg vue-id="3c50aaa2-10" size="small" btn="重新发起支付" bgColor="gradient" bind:__l="__l"></button-bg></block></view></view></view></scroll-view><movable-area class="moveArea"><movable-view class="back" direction="all" x="{{x}}" y="{{y}}" data-event-opts="{{[['tap',[['back',['$event']]]]]}}" bindtap="__e"><text>{{expressStatus==3?'返回\n订单':'返回\n首页'}}</text></movable-view></movable-area></view>